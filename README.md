# lightbend-lagom-concepts

This project has been generated by the lagom/lagom-scala.g8 template and then edited/extended. 

Lagom is an open source framework for building systems of Reactive microservices in Java or Scala. Lagom builds on Akka and Play, proven technologies that are in production in 
some of the most demanding applications today.  

This project captures the hands-on while learning and reading through **Lagom** documentation. It can evolve as a guide to someone who is looking to learn Lagom. Generally, the
services or modules in the project are of two kinds: 
   
- Minimal: 
    - The ones which demonstrate an aspect of framework at a bare minimum level
    - Looking at such modules makes you internalize the very basics of the framework
- Extensive
    - The ones explaining and demonstrating various concepts of an aspect of framework 
    - These explain the concepts which add on to the very basics of the framework

## Pre-requisites
This is a scala sbt project. So assuming language and build related stuff is already available on the developer's machine, the only thing required to run this project on local 
environment, is a running Kafka broker.  

Although Lagom provides an in-built Kafka broker, but the one included in this template was causing some issues. It is recommended to first try to run the project as is on the 
local (instructions below) and if the run log shows "Kafka shutdown unexpectedly" or something similar, then you would need to start a Kafka broker on your local machine.  

Instructions for same can be found [here](https://kafka.apache.org/quickstart) or you can follow a simple text document "**KafkaStarter**" included in the reference directory of the
project.

## Run
Running the project is simple. Start sbt shell and run the command "**runAll**"

Service locator starts at: [http://localhost:9008/services](http://localhost:9008/services)  
Service gateway starts at: [http://localhost:9000](http://localhost:9008/services)

Service gateway will show all the endpoints made available by the project. POST endpoints would require you to use a REST client like POSTMAN. Two endpoints are streaming 
endpoints. You will know which ones. Hitting them will show a message "Upgrade to WebSocket required". Do not get confused as these can't be tested through browsers or REST 
clients. They are there to show how to create streaming endpoints.  

To understand what endpoints demonstrate what, you would need to go through the code and its comments.

## Services/Modules
- **micro-service-one:**   
    - A bare minimal service created following the hello service included in the gitter8 template
    - Follow this if you are looking to understand what constitutes a bare minimum lagom service
    - There's a word document (**Lagom_CreateBareMinimumService**) with snapshots included in the reference directory of the project which augments the understanding
- **micro-service-two:** 
    - Demonstrates a majority of concepts from "Writing Lagom services" section of [Lagom Reference Guide](https://www.lagomframework.com/documentation/current/scala/ReferenceGuide.html)
    - This is an extensive service with variety of endpoints each explaining and demonstrating a concept
    - It also includes tests for the service if you are looking to learn a way to write tests for lagom services
- **micro-service-two-consumer:** 
    - Demonstrates the concept of consuming other services from a lagom service
    - Though it focuses on the general concept of consuming a service but demonstrates consuming of a Lagom Service
- **async-comm-kafka-publisher:** 
    - Minimally demonstrates the write-side of CQRS and event sourcing using Kafka as a message broker
    - There are little or no comments on this. It needs some explaining document too which is not there yet.
    - But, if you are trying to understand CQRS and Event Sourcing, this is the bare minimum code which can help you understand Entity, Command, Event and State
- **async-comm-kafka-subscriber:** 
    - Minimally demonstrates the read-side of CQRS and event sourcing using Kafka as a message broker




   
